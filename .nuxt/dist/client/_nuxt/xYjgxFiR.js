import{_ as C}from"./DedfGFRt.js";import{r as l,A,q as S,c as u,a as o,s as m,v,t as b,x as h,d as f,y as w,b as R,w as V,o as d}from"./BbIdj9bR.js";import{r as D,i as G,g as I,G as P,o as E,c as U,a as B}from"./BYtpUq31.js";var N="firebase",j="10.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */D(N,j,"app");const M={apiKey:"AIzaSyDgtv7bEyCFjWij7yDSJDKNHMVzJAg9vrI",authDomain:"taskdoing-3cec7.firebaseapp.com",projectId:"taskdoing-3cec7",storageBucket:"taskdoing-3cec7.appspot.com",messagingSenderId:"242812125632",appId:"1:242812125632:web:9b287b2781c9897800c825"},T=G(M),p=I(T),W={class:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-r from-blue-400 to-indigo-500 text-white p-4"},z={key:0,class:"text-red-500 mb-2"},q=["disabled"],H={key:0},J={key:1},K={key:1,class:"text-green-500 mt-4"},F={class:"mt-6"},Y={__name:"register",setup(L){const y=new P,i=l(""),n=l(""),s=l(""),r=l(""),a=l(!1),c=A(),x=async()=>{if(!i.value||!n.value){s.value="Email and password are required.";return}s.value="",r.value="",a.value=!0;try{const t=(await U(p,i.value,n.value)).user;r.value="Registration successful! Redirecting...",i.value="",n.value="",setTimeout(()=>{a.value=!1,c.push("/dashboard")},2e3)}catch(e){s.value=e.message,console.error("Registration error:",e)}finally{a.value=!1}},_=async()=>{s.value="",r.value="",a.value=!0;try{const t=(await B(p,y)).user;r.value="Signed in with Google! Redirecting...",console.log("User signed in with Google:",t),setTimeout(()=>{a.value=!1,c.push("/dashboard")},2e3)}catch(e){e.code==="auth/popup-closed-by-user"?s.value="Popup closed by user.":e.code==="auth/account-exists-with-different-credential"?s.value="An account already exists with this email address but different credentials.":s.value=e.message,console.error("Google Sign-in error:",e)}finally{a.value=!1}};return S(()=>{E(p,e=>{e&&(console.log("User is signed in:",e),c.push("/dashboard"))})}),(e,t)=>{const k=C;return d(),u("div",W,[t[4]||(t[4]=o("h1",{class:"text-4xl font-bold mb-4"},"Register",-1)),o("form",{onSubmit:w(x,["prevent"]),class:"flex flex-col w-full max-w-md"},[m(o("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=g=>i.value=g),placeholder:"Email",class:"p-2 mb-4 rounded-md border-2 border-white bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-white","aria-label":"Email"},null,512),[[v,i.value]]),m(o("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=g=>n.value=g),placeholder:"Password",class:"p-2 mb-4 rounded-md border-2 border-white bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-white","aria-label":"Password"},null,512),[[v,n.value]]),s.value?(d(),u("span",z,b(s.value),1)):h("",!0),o("button",{type:"submit",class:"bg-white text-blue-500 px-4 py-2 rounded-md hover:bg-gray-200 transition duration-300",disabled:a.value,"<!--":"",Disable:"",button:"",while:"",loading:"","--":""},[t[2]||(t[2]=f(" > ")),a.value?(d(),u("span",H,"Registering...")):(d(),u("span",J,"Register"))],8,q),o("button",{onClick:w(_,["prevent"]),class:"mt-2 bg-white text-red-500 px-4 py-2 rounded-md hover:bg-gray-200 transition duration-300"}," Sign in with Google "),r.value?(d(),u("span",K,b(r.value),1)):h("",!0)],32),o("div",F,[R(k,{to:"/",class:"bg-white text-blue-500 px-4 py-2 rounded-md hover:bg-gray-200 transition duration-300"},{default:V(()=>t[3]||(t[3]=[f(" Back to Home ")])),_:1})])])}}};export{Y as default};
